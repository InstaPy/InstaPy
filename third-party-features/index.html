<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-F16VNTTQ7S"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-F16VNTTQ7S",{})</script>
<script data-ad-client="ca-pub-4875789012193531" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><title data-react-helmet="true">Third Party Features | InstaPy</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Third Party Features | InstaPy"><meta data-react-helmet="true" name="description" content="Clarifai ImageAPI"><meta data-react-helmet="true" property="og:description" content="Clarifai ImageAPI"><meta data-react-helmet="true" property="og:url" content="https://instapy.org/third-party-features"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://instapy.org/third-party-features"><link rel="stylesheet" href="/styles.12ff7394.css">
<link rel="preload" href="/styles.239aae19.js" as="script">
<link rel="preload" href="/runtime~main.f826681f.js" as="script">
<link rel="preload" href="/main.6a8f2052.js" as="script">
<link rel="preload" href="/1.e027e363.js" as="script">
<link rel="preload" href="/2.c6ee10d8.js" as="script">
<link rel="preload" href="/15.86dfee4f.js" as="script">
<link rel="preload" href="/935f2afb.42dd910d.js" as="script">
<link rel="preload" href="/17896441.e72ad0d3.js" as="script">
<link rel="preload" href="/919f7b17.8c692ffc.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/instapy_logo.png" alt="InstaPy Logo"><strong class="navbar__title">InstaPy - Documentation</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/timgrossmann/InstaPy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/instapy_logo.png" alt="InstaPy Logo"><strong class="navbar__title">InstaPy - Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/timgrossmann/InstaPy" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Documentation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/">Home</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/settings">Settings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/actions">Actions</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/third-party-features">Third Party Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/instance-settings">Instance Settings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/relationship-tools">Relationship Tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/automate-instapy">Automate InstaPy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/additional-information">Additional Information</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Third Party Features</h1></header><div class="markdown"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="clarifai-imageapi"></a>Clarifai ImageAPI<a aria-hidden="true" tabindex="-1" class="hash-link" href="#clarifai-imageapi" title="Direct link to heading">#</a></h3><img src="https://clarifai.com/cms-assets/20180311184054/Clarifai_Pos.svg" width="200" align="right"><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="note-head-over-to-httpsdeveloperclarifaicomsignup-and-create-a-free-account-once-youre-logged-in-go-to-httpsdeveloperclarifaicomaccountapplications-and-create-a-new-application-you-can-find-the-client-id-and-secret-there-you-get-5000-api-calls-freemonth"></a>Note: Head over to <a href="https://developer.clarifai.com/signup/" target="_blank" rel="noopener noreferrer">https://developer.clarifai.com/signup/</a> and create a free account, once you&#x27;re logged in go to <a href="https://developer.clarifai.com/account/applications/" target="_blank" rel="noopener noreferrer">https://developer.clarifai.com/account/applications/</a> and create a new application. You can find the client ID and Secret there. You get 5000 API-calls free/month.<a aria-hidden="true" tabindex="-1" class="hash-link" href="#note-head-over-to-httpsdeveloperclarifaicomsignup-and-create-a-free-account-once-youre-logged-in-go-to-httpsdeveloperclarifaicomaccountapplications-and-create-a-new-application-you-can-find-the-client-id-and-secret-there-you-get-5000-api-calls-freemonth" title="Direct link to heading">#</a></h6><p>If you want the script to get your CLARIFAI_API_KEY for your environment, you can do:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">export CLARIFAI_API_KEY=&quot;&lt;API KEY&gt;&quot;</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="example-with-imagecontent-handling"></a>Example with Imagecontent handling<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-with-imagecontent-handling" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_do_comment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> percentage</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_comments</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Cool!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Awesome!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Nice!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clarifai_check_img_for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;nsfw&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clarifai_check_img_for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;food&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;lunch&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;dinner&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> comment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> comments</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Tasty!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Nice!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Yum!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="enabling-imagechecking"></a>Enabling Imagechecking<a aria-hidden="true" tabindex="-1" class="hash-link" href="#enabling-imagechecking" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># default enabled=False , enables the checking with the Clarifai API (image</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># tagging) if secret and proj_id are not set, it will get the environment</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># variables &#x27;CLARIFAI_API_KEY&#x27;.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="using-clarifai-public-models-and-custom-models"></a>Using Clarifai Public Models and Custom Models<a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-clarifai-public-models-and-custom-models" title="Direct link to heading">#</a></h4><p>If not specified by setting the <code>models=[&#x27;model_name1&#x27;]</code> in <code>session.set_use_clarifai</code>, <code>models</code> will be set to <code>general</code> by default.</p><p>If you wish to check against a specific model or multiple models (see Support for Compound Model Queries below), you can specify the models to be checked as shown below.</p><p>To get a better understanding of the models and their associated concepts, see the Clarifai <a href="https://clarifai.com/models" target="_blank" rel="noopener noreferrer">Model Gallery</a> and <a href="https://clarifai.com/developer/guide/" target="_blank" rel="noopener noreferrer">Developer Guide</a></p><p><strong>NOTE ON MODEL SUPPORT</strong>: At this time, the support for the<code>Focus</code>, <code>Face Detection</code>, <code>Face Embedding</code>, and <code>General Embedding</code> has not been added.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the NSFW model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;nsfw&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Apparel model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;apparel&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Celebrity model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;celebrity&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Color model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">â€˜xxxâ€™</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">â€˜modelâ€™</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Demographics model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">â€˜xxxâ€™</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">â€˜demographicsâ€™</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Food model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;food&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Landscape Quality model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;landscape quality&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Logo model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;logo&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Moderation model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;moderation&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Portrait Quality model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;portrait quality&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Textures and Patterns model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;textures&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Travel model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;travel&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using the Weddings model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;weddings&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check image using a custom model where model_name is name of your choosing (see Clarifai documentation for using custom models)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;your-model-name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="filtering-inappropriate-images"></a>Filtering Inappropriate Images<a aria-hidden="true" tabindex="-1" class="hash-link" href="#filtering-inappropriate-images" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># uses the clarifai api to check if the image contains nsfw content</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># by checking against Clarifai&#x27;s NSFW model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># -&gt; won&#x27;t comment if image is nsfw</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;nsfw&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clarifai_check_img_for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;nsfw&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># uses the clarifai api to check if the image contains inappropriate content</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># by checking against Clarifai&#x27;s Moderation model</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># -&gt; won&#x27;t comment if image is suggestive or explicit</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;moderation&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clarifai_check_img_for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;suggestive&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;explicit&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># To adjust the threshold for accepted concept predictions and their</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># respective score (degree of confidence) you can set the default probability</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># parameter for Clarifai (default 50%). For example, you could set probability to 15%.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># -&gt; any image with a nsfw score of 0.15 of higher will not be commented on</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> probability</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.15</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;nsfw&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clarifai_check_img_for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;nsfw&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="filtering-by-keyword"></a>Filtering by Keyword<a aria-hidden="true" tabindex="-1" class="hash-link" href="#filtering-by-keyword" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># uses the clarifai api to check if the image concepts contain the keyword(s)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># -&gt; won&#x27;t comment if image contains the keyword</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clarifai_check_img_for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;building&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="specialized-comments-for-images-with-specific-content"></a>Specialized Comments for Images with Specific Content<a aria-hidden="true" tabindex="-1" class="hash-link" href="#specialized-comments-for-images-with-specific-content" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># checks the image for keywords food and lunch. To check for both, set full_match in</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># in session.set_use_clarifia to True, and if both keywords are found,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># InstaPy will comment with the given comments. If full_match is False (default), it only</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># requires a single tag to match Clarifai results.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> full_match</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clarifai_check_img_for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;food&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;lunch&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> comment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> comments</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Tasty!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Yum!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># If you only want to accept results with a high degree of confidence, you could</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># set a probability to a higher value, like 90%.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> probability</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">0.90</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> full_match</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clarifai_check_img_for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;food&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;lunch&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> comment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> comments</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Tasty!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Yum!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><ins class="adsbygoogle" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4875789012193531" data-ad-slot="9530237054"></ins><script>(adsbygoogle = window.adsbygoogle || []).push(<!-- -->);</script><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="querying-multiple-models-with-workflow-single-api-call"></a>Querying Multiple Models with Workflow (Single API Call)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#querying-multiple-models-with-workflow-single-api-call" title="Direct link to heading">#</a></h4><p>You can query multiple Clarifai models with a single API call by setting up a custom workflow.  Using a <code>workflow</code> is the recommended way to query multiple models. Alternatively, it is possible to query multiple models separately (see Querying Multiple Models (Multiple API Calls) below).</p><p>To setup a workflow, see the <a href="https://www.clarifai.com/developer/guide/workflow#workflow" target="_blank" rel="noopener noreferrer">Workflow Documentation</a>.</p><p><strong>NOTE</strong> :As mentioned above, the <code>Focus</code>, <code>Face Detection</code>, <code>Face Embedding</code>, and <code>General Embedding</code> models are not current supported.</p><p>Once you have a workflow setup, you can use InstaPy to check images with the Clarifai Image API by setting the <code>workflow</code> parameter in <code>session.set_use_clarifai</code> to the name of your custom workflow.</p><p>Let&#x27;s say you want to comment &#x27;Great shot!&#x27; on images of men or women with the hashtag <code>#selfie</code>, but you want to make sure not to comment on images which might contain inappropriate content. To get general concepts, e.g. <code>woman</code>, you would setup your workflow using <code>General</code> and to check the image for the concepts <code>nsfw</code> and <code>explicit</code> you would also want to add NSFW and Moderation models to your workflow.</p><p>For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> workflow</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;your-workflow&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> proxy</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;123.123.123.123:5555&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clarifai_check_img_for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;woman&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;man&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;nsfw&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;explicit&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;suggestive&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> comment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> comments</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Great shot!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>If Clarifai&#x27;s response includes the concepts of either <code>woman</code> or <code>man</code> but also includes at least <code>nsfw</code>, <code>explicit</code>, or <code>suggestive</code>, InstaPy will not comment. On the other hand, if Clarifai&#x27;s response includes the concepts of either <code>woman</code> or <code>man</code> but does not include any of the concepts <code>nsfw</code>, <code>explicit</code>, or <code>suggestive</code>, InstaPy will add the comment <code>Great shot!</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="querying-multiple-models-multiple-api-calls"></a>Querying Multiple Models (Multiple API Calls)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#querying-multiple-models-multiple-api-calls" title="Direct link to heading">#</a></h4><p>In the event that you do not want to set up a workflow, you can also query multiple models using multiple API calls.</p><p><strong>WARNING</strong>: If you are using a free account with Clarifiai, be mindful that the using compound API queries could greatly increase your chances of exceeding your allotment of free 5000 operations per month. The number of Clarifai billable operations per image check equals the number of models selected. For example, if you check 100 images against <code>models=[&#x27;general&#x27;, &#x27;nsfw&#x27;, &#x27;moderation&#x27;]</code>, the total number of billable operations will be 300.</p><p>Following the example above, to get general concepts, e.g. <code>woman</code>, you would use the model <code>general</code> and to check the image for the concepts <code>nsfw</code> and <code>explicit</code> you would also want to check the image against the NSFW and Moderation models.</p><p>For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> models</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;general&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;nsfw&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;moderation&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> proxy</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clarifai_check_img_for</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;woman&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;man&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;nsfw&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;explicit&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;suggestive&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> comment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> comments</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Great shot!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>Using proxy to access clarifai:
We have 3 options:</p><ol><li>ip:port</li><li>user:pass@ip:port</li><li>None</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="checking-video"></a>Checking Video<a aria-hidden="true" tabindex="-1" class="hash-link" href="#checking-video" title="Direct link to heading">#</a></h4><p><strong>WARNING</strong>: Clarifai checks one frame of video for content for every second of video. <strong>That is, in a 60 second video, 60 billable operations would be run for every model that the video is being checked against.</strong> Running checks on video should only be used if you have special needs and are prepared to use a large number of billable operations.</p><p>To have Clarifai run a predict on video posts, you can set the <code>check_video</code> argument in <code>session.set_use_clarifai</code> to <code>True</code>. By default, this argument is set to <code>False</code>. Even if you do not choose to check the entire video, Clarifai will still check the video&#x27;s keyframe for content.</p><p>For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_clarifai</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> api_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;xxx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> check_video</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>With video inputs, Clarifai&#x27;s Predict API response will return a list of concepts at a rate of one frame for every second of a video.</p><p>Be aware that you cannot check video using a <code>workflow</code> and that only a select number of public models are currently supported. Models currently supported are: Apparel, Food, General, NSFW, Travel, and Wedding. In the event that the models being used do not support video inputs or you are using a workflow, the video&#x27;s keyframe will still be checked for content.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="check-out-httpsclarifaicomdemo-to-see-some-of-the-available-tags"></a>Check out <a href="https://clarifai.com/demo" target="_blank" rel="noopener noreferrer">https://clarifai.com/demo</a> to see some of the available tags.<a aria-hidden="true" tabindex="-1" class="hash-link" href="#check-out-httpsclarifaicomdemo-to-see-some-of-the-available-tags" title="Direct link to heading">#</a></h5><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="text-analytics"></a>Text Analytics<a aria-hidden="true" tabindex="-1" class="hash-link" href="#text-analytics" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="yandex-translate-api"></a>Yandex Translate API<a aria-hidden="true" tabindex="-1" class="hash-link" href="#yandex-translate-api" title="Direct link to heading">#</a></h4><img src="https://yastatic.net/www/_/Q/r/sx-Y7-1azG3UMxG55avAdgwbM.svg" width="196" align="right"><img src="https://yastatic.net/s3/home/logos/services/1/translate.svg" width="66" align="left"><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="offers-excellent-language-detection-and-synchronized-translation-for-over-95-languages--worldwide"></a>Offers excellent language detection and synchronized translation for over 95 languages ðŸ˜Ž worldwide<a aria-hidden="true" tabindex="-1" class="hash-link" href="#offers-excellent-language-detection-and-synchronized-translation-for-over-95-languages--worldwide" title="Direct link to heading">#</a></h6><p><em>This service currently is supported only by the <a href="#interact-by-comments">Interact by Comments</a> feature</em>.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="usage"></a>Usage<a aria-hidden="true" tabindex="-1" class="hash-link" href="#usage" title="Direct link to heading">#</a></h5><p>Go <a href="https://translate.yandex.com/developers/keys" target="_blank" rel="noopener noreferrer"><strong>sign up</strong></a> on <a href="https://translate.yandex.com" target="_blank" rel="noopener noreferrer"><em>translate.yandex.com</em></a> and get a <em>free</em> <code>API_key</code>;
<em>Then configure its usage at your <strong>quickstart</strong> script</em>,</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_yandex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       API_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       match_language</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       language_code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;en&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="parameters"></a>Parameters<a aria-hidden="true" tabindex="-1" class="hash-link" href="#parameters" title="Direct link to heading">#</a></h5><p><code>enabled</code>
: Put <code>True</code> to <strong>activate</strong> or <code>False</code> to <strong>deactivate</strong> the service usage;</p><p><code>API_key</code>
: The <em>key</em> which is <strong>required</strong> to authenticate <code>HTTP</code> <em>requests</em> to the <strong>API</strong>;</p><p><code>match_language</code>
: <strong>Enable</strong> if you would like to match the language of the text;</p><p><code>language_code</code>
: <strong>Set</strong> your desired language&#x27;s code to <strong>match language</strong> (<em>if it&#x27;s enabled</em>);</p><blockquote><p>You can get the list of all supported languages and their codes at <a href="https://tech.yandex.com/translate/doc/dg/concepts/api-overview-docpage/#api-overview__languages" target="_blank" rel="noopener noreferrer"><em>tech.yandex.com</em></a>.</p></blockquote><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="rate-limits"></a>Rate Limits<a aria-hidden="true" tabindex="-1" class="hash-link" href="#rate-limits" title="Direct link to heading">#</a></h5><p>In its <em>free</em> plan, the <strong>daily</strong> request <em>limit</em> is <code>1,000,000</code> characters and the <strong>monthly</strong> <em>limit</em> is <code>10,000,000</code> characters.</p><blockquote><p>To increase the request limit, you can <strong>switch</strong> to the <code>fee-based</code> version of the service (<em>$<code>15</code>/million chars</em>)..</p></blockquote><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="examples"></a>Examples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#examples" title="Direct link to heading">#</a></h5><p><strong>1</strong>-) Matching language;</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_yandex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> API_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> match_language</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> language_code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;az&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>Target text
: &quot;<em>your technique encouragesðŸ“¸ me</em>&quot;</p><p><em>Now that text is gonna be labeled <strong>inappropriate</strong> COS its language is <code>english</code> rather than the desired <code>azerbaijani</code></em>..</p><p><strong>2</strong>-) Enabling the <strong>Yandex</strong> service <em>but NOT</em> matching language;
Since <strong>Yandex</strong> Translate is being used [internally] by the <strong>MeaningCloud</strong> service, you can just provide the API key of <strong>Yandex</strong> and enable it without enabling the <code>match_language</code> parameter what will be sufficient for the <strong>MeaningCloud</strong> to work..</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_yandex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> API_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> match_language</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><blockquote><p>And yes, you can enable <strong>Yandex</strong> service to make it be available for <strong>MeaningCloud</strong> and then also <em>match language</em> if you like, in the same setup just by turning the <code>match_language</code> parameter on..</p></blockquote><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="legal-notice"></a>Legal Notice<a aria-hidden="true" tabindex="-1" class="hash-link" href="#legal-notice" title="Direct link to heading">#</a></h5><p><a href="http://translate.yandex.com/" target="_blank" rel="noopener noreferrer">Powered by Yandex.Translate</a></p><ins class="adsbygoogle" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4875789012193531" data-ad-slot="9530237054"></ins><script>(adsbygoogle = window.adsbygoogle || []).push(<!-- -->);</script><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="meaningcloud-sentiment-analysis-api"></a>MeaningCloud Sentiment Analysis API<a aria-hidden="true" tabindex="-1" class="hash-link" href="#meaningcloud-sentiment-analysis-api" title="Direct link to heading">#</a></h4><img src="https://www.meaningcloud.com/developer/img/LogoMeaningCloud210x85.png" width="210" align="right"><h6><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="offers-a-detailed-multilingual-analysis-of-all-kind-of-unstructured-content-determining-its-sentiment-"></a>Offers a detailed, multilingual analysis of all kind of unstructured content determining its sentiment âš–<a aria-hidden="true" tabindex="-1" class="hash-link" href="#offers-a-detailed-multilingual-analysis-of-all-kind-of-unstructured-content-determining-its-sentiment-" title="Direct link to heading">#</a></h6><p><em>This service currently is supported only by the <a href="#interact-by-comments">Interact by Comments</a> feature</em>.</p><p>Determines if text displays <em>positive</em>, <em>negative</em>, or <em>neutral</em> sentiment - or is <em>not possible</em> to detect.
Phrases are identified with the <em>relationship between</em> them evaluated which identifies a <em>global polarity</em> value of the text.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="usage-1"></a>Usage<a aria-hidden="true" tabindex="-1" class="hash-link" href="#usage-1" title="Direct link to heading">#</a></h5><p><strong>1</strong>-) Go <a href="https://www.meaningcloud.com/developer/login" target="_blank" rel="noopener noreferrer"><strong>sign up</strong></a> (<em>offers <strong>sign in</strong> with</em> ðŸ˜Ž <em><strong>Github</strong></em>) on <a href="https://www.meaningcloud.com" target="_blank" rel="noopener noreferrer"><em>meaningcloud.com</em></a> and get a <em>free</em> <code>license_key</code>;
<em>Then configure its usage at your <strong>quickstart</strong> script</em>,</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_meaningcloud</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                             license_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                             polarity</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;P&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                             agreement</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;AGREEMENT&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                             subjectivity</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SUBJECTIVE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                             confidence</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">94</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p><strong>2</strong>-) Install its <em>package</em> for <strong>python</strong> by <code>pip</code>;</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-powershell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pip install MeaningCloud-python</span></div></div></div></div></div><p><strong>3</strong>-) Turn on <strong>Yandex</strong> <em>Translate</em> service which is a <strong>requirement</strong> for the language <em>detection</em> &amp; <em>translation</em> at request;
<em>To have it configured, read its <a href="#yandex-translate-api">documentation</a></em>.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="parameters-1"></a>Parameters<a aria-hidden="true" tabindex="-1" class="hash-link" href="#parameters-1" title="Direct link to heading">#</a></h5><p><code>enabled</code>
: Put <code>True</code> to <strong>activate</strong> or <code>False</code> to <strong>deactivate</strong> the service usage;</p><p><code>license_key</code>
: The license key is <strong>required</strong> to do <em>calls</em> to the API;</p><p><code>polarity</code>
: It indicates the polarity found (<em>or not found</em>) in the text and applies to the <strong>global</strong> polarity of the text;
<em>It&#x27;s a <strong>graduated</strong> polarity - rates from <strong>very</strong> negative to <strong>very</strong> positive</em>.</p><table><thead><tr><th><code>score_tag</code></th><th>definition</th></tr></thead><tbody><tr><td><code>&quot;P+&quot;</code></td><td>match if text is <em><strong>strong</strong> positive</em></td></tr><tr><td><code>&quot;P&quot;</code></td><td>match if text is <em>positive</em> or above</td></tr><tr><td><code>&quot;NEU&quot;</code></td><td>match if text is <em>neutral</em> or above</td></tr><tr><td><code>&quot;N&quot;</code></td><td>match if text is <em>negative</em> or above</td></tr><tr><td><code>&quot;N+&quot;</code></td><td>match if text is <em><strong>strong</strong> negative</em> or above</td></tr><tr><td><code>None</code></td><td>do not match per <em>polarity</em> found, at all</td></tr></tbody></table><blockquote><p>By &quot;<em>or above</em>&quot; it means- <em>e.g.</em>, if you set <code>polarity</code> to <code>&quot;P&quot;</code>, and text is <code>&quot;P+&quot;</code> then it&#x27;ll also be appropriate (<em>as it always leans towards positivity</em>) ..</p></blockquote><p><code>agreement</code>
: Identifies <strong>opposing</strong> opinions - <em>contradictory</em>, <em>ambiguous</em>;
<em>It marks the agreement <strong>between</strong> the sentiments detected in the text, the sentence or the segment it refers to</em>.</p><table><thead><tr><th><code>agreement</code></th><th>definition</th></tr></thead><tbody><tr><td><code>&quot;AGREEMENT&quot;</code></td><td>match if the different elements have <strong>the same</strong> polarity</td></tr><tr><td><code>&quot;DISAGREEMENT&quot;</code></td><td>match if there is <em>disagreement</em> between the different elements&#x27; polarity</td></tr><tr><td><code>None</code></td><td>do not match per <em>agreement</em> found, at all</td></tr></tbody></table><p><code>subjectivity</code>
: Identification of <em>opinions</em> and <em>facts</em> - <strong>distinguishes</strong> between <em>objective</em> and <em>subjective</em>;
<em>It marks the subjectivity of the text</em>.</p><table><thead><tr><th><code>subjectivity</code></th><th>definition</th></tr></thead><tbody><tr><td><code>&quot;SUBJECTIVE&quot;</code></td><td>match if text that has <em>subjective</em> marks</td></tr><tr><td><code>&quot;OBJECTIVE&quot;</code></td><td>match if text that does not have <strong>any</strong> <em>subjectivity</em> marks</td></tr><tr><td><code>None</code></td><td>do not match per <em>subjectivity</em> found, at all</td></tr></tbody></table><p><code>confidence</code>
: It represents the <em>confidence</em> associated with the sentiment analysis <strong>performed on the</strong> text and takes an integer number in the <em>range of</em> <code>(0, 100]</code>;</p><blockquote><p>If you <strong>don&#x27;t want to</strong> match per <em>confidence</em> found, at all, use the value of <code>None</code>.</p></blockquote><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="rate-limits-1"></a>Rate Limits<a aria-hidden="true" tabindex="-1" class="hash-link" href="#rate-limits-1" title="Direct link to heading">#</a></h5><p>It gives you <code>20 000</code> single API calls per each month (<em>starting from the date you have <strong>signed up</strong></em>).
It has <em>no daily limit</em> but if you hit the limit set for number of requests can be carried out concurrently (<em>per second</em>) it&#x27;ll return with error code of <code>104</code> rather than the result ðŸ˜‰</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="language-support"></a>Language Support<a aria-hidden="true" tabindex="-1" class="hash-link" href="#language-support" title="Direct link to heading">#</a></h5><p><strong>MeaningCloud</strong> currently supports a generic sentiment model (<em>called general</em>) in these languages: <em>english</em>, <em>spanish</em>, <em>french</em>, <em>italian</em>, <em>catalan</em>, and <em>portuguese</em>.</p><blockquote><p>You can define your own sentiment models using the user sentiment models console and work with them in the same way as with the sentiment models it provides.</p></blockquote><p>But <strong>no need to worry</strong> IF your <em>language</em> or <em>target audience&#x27;s language</em> is NONE of those <strong>officially</strong> supported.
Cos, to <strong>increase the coverage</strong> and support <strong>all other</strong> languages, as well, <strong>Yandex</strong> <em>Translate</em> service comes to rescue!
It detects the text&#x27;s language before passing it to <strong>MeaningCloud</strong>, and, if its language is not supported by <strong>MeaningCloud</strong>, it translates it into english and only then passes it to <strong>MeaningCloud</strong> <em>Sentiment Analysis</em>..</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="examples-1"></a>Examples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#examples-1" title="Direct link to heading">#</a></h5><p><strong>a</strong> -) Match <strong>ONLY</strong> per <code>polarity</code> and <code>agreement</code></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_meaningcloud</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> license_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> polarity</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;P&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> agreement</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;AGREEMENT&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>Target text
: &quot;<em>I appreciate your innovative thinking that results, brilliant images</em>&quot;</p><p><em>Sentiment Analysis</em> results for the text:</p><table><thead><tr><th><code>score_tag</code></th><th><code>agreement</code></th><th><code>subjectivity</code></th><th><code>confidence</code></th></tr></thead><tbody><tr><td><code>&quot;P+&quot;</code></td><td><code>&quot;AGREEMENT&quot;</code></td><td><code>&quot;SUBJECTIVE&quot;</code></td><td><code>100</code></td></tr></tbody></table><p><em>Now that text is gonna be labeled <strong>appropriate</strong> COS its polarity is <code>&quot;P+&quot;</code> which is more positive than <code>&quot;P&quot;</code> and <code>agreement</code> values also do match</em>..</p><p><strong>b</strong> -) Match <strong>FULLY</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_use_meaningcloud</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">enabled</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> license_key</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> polarity</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;P+&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> agreement</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;AGREEMENT&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> subjectivity</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SUBJECTIVE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> confidence</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">98</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>Target text
: &quot;<em>truly fantastic but it looks sad!</em>&quot;</p><p><em>Sentiment Analysis</em> results for the text:</p><table><thead><tr><th><code>score_tag</code></th><th><code>agreement</code></th><th><code>subjectivity</code></th><th><code>confidence</code></th></tr></thead><tbody><tr><td><code>&quot;P&quot;</code></td><td><code>&quot;DISAGREEMENT&quot;</code></td><td><code>&quot;SUBJECTIVE&quot;</code></td><td><code>92</code></td></tr></tbody></table><p><em>Now that text is gonna be labeled <strong>inappropriate</strong> COS its polarity is <code>&quot;P&quot;</code> which is less positive than <code>&quot;P+&quot;</code> and also, <code>agreement</code> values also <strong>do NOT</strong> match, and <strong>lastly</strong>, <code>confidence</code> is <strong>below</strong> user-defined <code>98</code></em>..</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="legal-notice-1"></a>Legal Notice<a aria-hidden="true" tabindex="-1" class="hash-link" href="#legal-notice-1" title="Direct link to heading">#</a></h5><p>This project uses MeaningCloudâ„¢ (<a href="http://www.meaningcloud.com" target="_blank" rel="noopener noreferrer">http://www.meaningcloud.com</a>) for Text Analytics.</p><ins class="adsbygoogle" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4875789012193531" data-ad-slot="9530237054"></ins><script>(adsbygoogle = window.adsbygoogle || []).push(<!-- -->);</script><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="telegram-integration"></a>Telegram Integration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#telegram-integration" title="Direct link to heading">#</a></h3><p>This feature allows to connect your InstaPy session with a Telegram bot and send commands
to the InstaPy session</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="prerequisites"></a>Prerequisites<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h4><p>You will need to create a token, for this go into your Telegram App and talk with @fatherbot.
You will also need to set your username as it is checked to ensure that you are authorized to
access the InstaPy session, to do so go to Settings -&gt; Profile -&gt; Username.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="supported-actions"></a>Supported actions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#supported-actions" title="Direct link to heading">#</a></h4><p>There are 3 supported actions:</p><ul><li>/start : will start the interaction between the bot and instapy. Please note: that the telegram bot
cannot send you messages until you first send it a /start message. The bot will store the chat_id in the logs folder
file telegram_chat_id.txt to be reused in further sessions (so you have to actually do /start just one time)</li><li>/report : will gather and show the current session statistics</li><li>/stop: will set the aborting flag to True</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="examples-2"></a>Examples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#examples-2" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> instapy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">plugins </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> InstaPyTelegramBot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        session </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                          password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                          bypass_with_mobile</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        telegram </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPyTelegramBot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;insert_real_token_here&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> telegram_username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;my_username&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> instapy_session</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># if you want to receive the information when the session ends</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># just add the following before your session.end()</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        telegram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>Additional parameters:</p><ul><li>debug=True if you want low level telegram debug information</li><li>proxy if you need one, here is the structure that needs to be passed</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    example_proxy </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;proxy_url&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http://PROXY_HOST:PROXY_PORT/&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Optional, if you need authentication:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;username&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PROXY_USER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;password&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PROXY_PASS&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     telegram </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPytelegramBot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> proxy</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">example_proxy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="additional-functionality"></a>Additional functionality<a aria-hidden="true" tabindex="-1" class="hash-link" href="#additional-functionality" title="Direct link to heading">#</a></h4><p>you can use</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">telegram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">send_message</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">text</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;this is a message&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>So you are able to send additional message inside your script if needed. Remember that the telegram bot<br>
is not able to send messages as long as you haven&#x27;t done at least one <code>/start</code>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/timgrossmann/InstaPy/edit/master/website/../docs/third-party-features.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/actions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Actions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/instance-settings"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Instance Settings Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#clarifai-imageapi" class="table-of-contents__link">Clarifai ImageAPI</a></li><li><a href="#text-analytics" class="table-of-contents__link">Text Analytics</a></li><li><a href="#telegram-integration" class="table-of-contents__link">Telegram Integration</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Links</h4></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/timgrossmann/InstaPy" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2025 InstaPy.</div></div></div></footer></div>
<script src="/styles.239aae19.js"></script>
<script src="/runtime~main.f826681f.js"></script>
<script src="/main.6a8f2052.js"></script>
<script src="/1.e027e363.js"></script>
<script src="/2.c6ee10d8.js"></script>
<script src="/15.86dfee4f.js"></script>
<script src="/935f2afb.42dd910d.js"></script>
<script src="/17896441.e72ad0d3.js"></script>
<script src="/919f7b17.8c692ffc.js"></script>
</body>
</html>