<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-F16VNTTQ7S"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-F16VNTTQ7S",{})</script>
<script data-ad-client="ca-pub-4875789012193531" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><title data-react-helmet="true">Instance Settings | InstaPy</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Instance Settings | InstaPy"><meta data-react-helmet="true" name="description" content="Running on a Headless Browser"><meta data-react-helmet="true" property="og:description" content="Running on a Headless Browser"><meta data-react-helmet="true" property="og:url" content="https://instapy.org/instance-settings"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://instapy.org/instance-settings"><link rel="stylesheet" href="/styles.12ff7394.css">
<link rel="preload" href="/styles.239aae19.js" as="script">
<link rel="preload" href="/runtime~main.f826681f.js" as="script">
<link rel="preload" href="/main.6a8f2052.js" as="script">
<link rel="preload" href="/1.e027e363.js" as="script">
<link rel="preload" href="/2.c6ee10d8.js" as="script">
<link rel="preload" href="/15.86dfee4f.js" as="script">
<link rel="preload" href="/935f2afb.42dd910d.js" as="script">
<link rel="preload" href="/17896441.e72ad0d3.js" as="script">
<link rel="preload" href="/f531b4cc.88d18db9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/instapy_logo.png" alt="InstaPy Logo"><strong class="navbar__title">InstaPy - Documentation</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/timgrossmann/InstaPy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/instapy_logo.png" alt="InstaPy Logo"><strong class="navbar__title">InstaPy - Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/timgrossmann/InstaPy" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Documentation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/">Home</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/settings">Settings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/actions">Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/third-party-features">Third Party Features</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/instance-settings">Instance Settings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/relationship-tools">Relationship Tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/automate-instapy">Automate InstaPy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/additional-information">Additional Information</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Instance Settings</h1></header><div class="markdown"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="running-on-a-headless-browser"></a>Running on a Headless Browser<a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-on-a-headless-browser" title="Direct link to heading">#</a></h3><p>Use <code>headless_browser</code> parameter to run the bot via the CLI. Works great if running the scripts locally, or to deploy on a server. No GUI, less CPU intensive. <a href="http://g.recordit.co/BhEgXANLhJ.gif" target="_blank" rel="noopener noreferrer">Example</a></p><p><strong>Warning:</strong> Some users discourage the use of this feature as Instagram could <a href="https://antoinevastel.com/bot%20detection/2017/08/05/detect-chrome-headless.html" target="_blank" rel="noopener noreferrer">detect</a> this headless mode!</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;test&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;test&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> headless_browser</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p><strong>(Alternative)</strong>
If the web driver you&#x27;re using doesn&#x27;t support headless mode (or the headless mode becomes very detectable), you can use the <code>nogui</code> parameter which displays the window out of view. Keep in mind, this parameter lacks support and ease of use, only supporting Linux based operating systems (or those that have Xvfb, Xephyr and Xvnc display software).</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;test&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;test&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> nogui</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="bypass-suspicious-login-attempt"></a>Bypass Suspicious Login Attempt<a aria-hidden="true" tabindex="-1" class="hash-link" href="#bypass-suspicious-login-attempt" title="Direct link to heading">#</a></h3><p>InstaPy detects automatically if the Security Code Challenge
is active, if yes, it will ask you for the Security Code on
the terminal.</p><p>The Security Code is send to your Email or SMS by Instagram, Email is the default option, but you can choose SMS also with:</p><p><code>bypass_security_challenge_using=&#x27;sms&#x27;</code> or <code>bypass_security_challenge_using=&#x27;email&#x27;</code></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        bypass_security_challenge_using</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sms&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="two-factor-authentication"></a>Two Factor Authentication<a aria-hidden="true" tabindex="-1" class="hash-link" href="#two-factor-authentication" title="Direct link to heading">#</a></h3><p>InstaPy detects automatically if the account is protected with the Two Factor Authentication, if yes InstaPy user need to provide the Security codes in the session constructor; at least one code is required.</p><p>Security codes can be found in: <code>Settings</code> -&gt; <code>Security</code> -&gt; <code>Two-Factor-Authentication</code> -&gt; <code>Backup Codes</code></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        security_codes</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;01234567&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;76543210&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;01237654&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><ins class="adsbygoogle" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4875789012193531" data-ad-slot="9530237054"></ins><script>(adsbygoogle = window.adsbygoogle || []).push(<!-- -->);</script><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="use-a-proxy"></a>Use a proxy<a aria-hidden="true" tabindex="-1" class="hash-link" href="#use-a-proxy" title="Direct link to heading">#</a></h3><p>You can use InstaPy behind a proxy by specifying server address, port and/or proxy authentication credentials. It works with and without <code>headless_browser</code> option.</p><p>Simple proxy setup example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  proxy_address</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;8.8.8.8&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  proxy_port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">8080</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>Proxy setup with authentication example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  proxy_username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  proxy_password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  proxy_address</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;8.8.8.8&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  proxy_port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">4444</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="running-internet-connection-checks"></a>Running internet connection checks<a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-internet-connection-checks" title="Direct link to heading">#</a></h3><p>InstaPy can perform a few checks online, including you connection and the availability of Instagram servers. These checks sometimes fail because Instapy uses third party services to perform these checks. If this should be the case. you can override these checks with this variable: <code>want_check_browser</code>.</p><p><code>want_check_browser</code> default is False, you can set it to True at session start. Recommend to do this if you want to add additional checks for the connection to the web and Instagram.</p><p>For example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  want_check_browser</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="running-in-threads"></a>Running in threads<a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-in-threads" title="Direct link to heading">#</a></h3><p>If you&#x27;re running InstaPy in threads and get exception <code>ValueError: signal only works in main thread</code> , you have to properly close the session.
There is two ways to do it:</p><p>Closing session in smart_run context:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">with</span><span class="token plain"> smart_run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> threaded</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(195, 232, 141)">&quot;&quot;&quot; Activity flow &quot;&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># some activity here ...</span></div></div></div></div></div><p>Closing session with <code>end()</code> method</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">login</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># some activity here ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">threaded_session</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="choose-the-browser-version"></a>Choose the browser version<a aria-hidden="true" tabindex="-1" class="hash-link" href="#choose-the-browser-version" title="Direct link to heading">#</a></h3><p>If you have more than one Firefox version on your system or if you are using a portable version you can instruct InstaPy to use that version using the <code>browser_executable_path</code> argument in the class initializer.</p><p>Specifying the Firefox executable path can also help you if you are getting the following error message:</p><p><code>selenium.common.exceptions.SessionNotCreatedException: Message: Unable to find a matching set of capabilities</code></p><p>Example on a Windows machine (with the right path also works on Linux and macOS)</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">session </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> InstaPy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">username</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  password</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">insta_password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  browser_executable_path</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">r&quot;D:\Program Files\Mozilla Firefox\firefox.exe&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><ins class="adsbygoogle" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4875789012193531" data-ad-slot="9530237054"></ins><script>(adsbygoogle = window.adsbygoogle || []).push(<!-- -->);</script></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/timgrossmann/InstaPy/edit/master/website/../docs/instance-settings.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/third-party-features"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Third Party Features</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/relationship-tools"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Relationship Tools Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#running-on-a-headless-browser" class="table-of-contents__link">Running on a Headless Browser</a></li><li><a href="#bypass-suspicious-login-attempt" class="table-of-contents__link">Bypass Suspicious Login Attempt</a></li><li><a href="#two-factor-authentication" class="table-of-contents__link">Two Factor Authentication</a></li><li><a href="#use-a-proxy" class="table-of-contents__link">Use a proxy</a></li><li><a href="#running-internet-connection-checks" class="table-of-contents__link">Running internet connection checks</a></li><li><a href="#running-in-threads" class="table-of-contents__link">Running in threads</a></li><li><a href="#choose-the-browser-version" class="table-of-contents__link">Choose the browser version</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Links</h4></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/timgrossmann/InstaPy" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2025 InstaPy.</div></div></div></footer></div>
<script src="/styles.239aae19.js"></script>
<script src="/runtime~main.f826681f.js"></script>
<script src="/main.6a8f2052.js"></script>
<script src="/1.e027e363.js"></script>
<script src="/2.c6ee10d8.js"></script>
<script src="/15.86dfee4f.js"></script>
<script src="/935f2afb.42dd910d.js"></script>
<script src="/17896441.e72ad0d3.js"></script>
<script src="/f531b4cc.88d18db9.js"></script>
</body>
</html>